(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{XGW7:function(e,t,s){"use strict";s.r(t);var r=s("ofXK"),i=s("tyNb"),n=s("tk/3"),c=s("R0Ic");const o=Object(c.l)("opacityChangeAnimation",[Object(c.k)(":enter",[Object(c.j)({opacity:0}),Object(c.e)(".2s",Object(c.j)({opacity:1}))]),Object(c.k)(":leave",[Object(c.e)(".2s",Object(c.j)({opacity:0}))])]);var a=s("fXoL"),h=s("LRne"),u=s("HDdC"),l=s("quSY");class p extends l.a{constructor(e,t){super()}schedule(e,t=0){return this}}class d extends p{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,r=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(r,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s=!1,r=void 0;try{this.work(e)}catch(i){s=!0,r=!!i&&i||new Error(i)}if(s)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,r=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&s.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let b=(()=>{class e{constructor(t,s=e.now){this.SchedulerAction=t,this.now=s}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}return e.now=()=>Date.now(),e})();class g extends b{constructor(e,t=b.now){super(e,()=>g.delegate&&g.delegate!==this?g.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return g.delegate&&g.delegate!==this?g.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const f=new g(d);var m=s("DH7j");function y(e){const{subscriber:t,counter:s,period:r}=e;t.next(s),this.schedule({subscriber:t,counter:s+1,period:r},r)}var v=s("l7GE"),_=s("ZUHj");class w{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new x(e,this.durationSelector))}}class x extends v.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1,this.durationSubscription=null}_next(e){try{const t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(e,t){let s=this.durationSubscription;this.value=e,this.hasValue=!0,s&&(s.unsubscribe(),this.remove(s)),s=Object(_.a)(this,t),s&&!s.closed&&this.add(this.durationSubscription=s)}notifyNext(e,t,s,r,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const e=this.value,t=this.durationSubscription;t&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,super._next(e)}}}var O=s("7o/Q");class S{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new k(e,this.compare,this.keySelector))}}class k extends O.a{constructor(e,t,s){super(e),this.keySelector=s,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:s}=this;t=s?s(e):e}catch(r){return this.destination.error(r)}let s=!1;if(this.hasKey)try{const{compare:e}=this;s=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;s||(this.key=t,this.destination.next(e))}}var j=s("eIep");let N=(()=>{class e{constructor(){this.messages={emptyRequest:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441",error:"\u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",emptyResponse:"\u043d\u0435 \u043d\u0430\u0448\u043b\u043e\u0441\u044c \u0442\u0430\u043a\u043e\u0433\u043e \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e{constructor(e,t){this.http=e,this.notice=t,this.state={}}sendRequest(e){return e?this.http.get(`https://api.github.com/search/repositories?q=${e}`):Object(h.a)(this.notice.messages.emptyRequest)}changeState(e){this.state.isLoading=!!e.isLoading&&e.isLoading,this.state.repositories=e.repositories?e.repositories:[],this.state.noticeMessage=e.noticeMessage?e.noticeMessage:""}eventHandler$(e){return e.pipe((t=()=>(this.changeState({isLoading:!0}),function(e=0,t=f){var s;return s=e,(Object(m.a)(s)||!(s-parseFloat(s)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=f),new u.a(s=>(s.add(t.schedule(y,e,{subscriber:s,counter:0,period:e})),s))}(500)),e=>e.lift(new w(t))),e=>e.lift(new S(void 0,void 0)),Object(j.a)(e=>this.sendRequest(e)));var t}subscribe(e){this.eventHandler$(e).subscribe(e=>{this.changeState(e&&typeof e!=typeof this.notice.messages.emptyRequest?e.total_count>0?{repositories:e.items}:{noticeMessage:this.notice.messages.emptyResponse}:{noticeMessage:this.notice.messages.emptyRequest})},e=>{console.log(e),this.changeState({noticeMessage:this.notice.messages.error})})}getState(){return this.state}}return e.\u0275fac=function(t){return new(t||e)(a.Sb(n.a),a.Sb(N))},e.\u0275prov=a.Fb({token:e,factory:e.\u0275fac}),e})();var I=s("3Pt+");function M(e,t){if(1&e&&(a.Ob(0,"span",8),a.Ob(1,"span",6),a.kc(2,"Language:\u2002"),a.Nb(),a.kc(3),a.Nb()),2&e){const e=a.Yb();a.zb(3),a.lc(e.repo.language)}}let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Db({type:e,selectors:[["app-repo-card"]],inputs:{repo:"repo"},decls:12,vars:6,consts:[["target","blank",1,"repo-card",3,"href"],[1,"repo-card__title"],["alt","author avatar",1,"repo-card__avatar",3,"src"],[1,"repo-card__subtitle"],[1,"repo-card__description"],[1,"repo-card__stars"],[1,"bold-text"],["class","repo-card__language",4,"ngIf"],[1,"repo-card__language"]],template:function(e,t){1&e&&(a.Ob(0,"a",0),a.Ob(1,"h3",1),a.kc(2),a.Nb(),a.Kb(3,"img",2),a.Ob(4,"p",3),a.kc(5),a.Nb(),a.Ob(6,"div",4),a.Ob(7,"span",5),a.Ob(8,"span",6),a.kc(9,"Stars:\u2002"),a.Nb(),a.kc(10),a.Nb(),a.jc(11,M,4,1,"span",7),a.Nb(),a.Nb()),2&e&&(a.bc("href",t.repo.html_url,a.hc),a.zb(2),a.lc(t.repo.name),a.zb(1),a.bc("src",null==t.repo?null:null==t.repo.owner?null:t.repo.owner.avatar_url,a.hc),a.zb(2),a.lc(t.repo.description),a.zb(5),a.lc(t.repo.stargazers_count),a.zb(1),a.bc("ngIf",t.repo.language))},directives:[r.i],styles:[".repo-card[_ngcontent-%COMP%]{text-decoration:none;color:#000}.repo-card__description[_ngcontent-%COMP%]{display:flex}.repo-card__avatar[_ngcontent-%COMP%]{width:272px;height:272px}.repo-card__stars[_ngcontent-%COMP%]{margin-right:10px}"]}),e})(),q=(()=>{class e{transform(e){return e?e.sort((e,t)=>t.stargazers_count-e.stargazers_count):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Ib({name:"sortByStars",type:e,pure:!0}),e})();var A=s("srj4");function P(e,t){1&e&&(a.Ob(0,"div",6),a.Kb(1,"div",7),a.Nb()),2&e&&a.bc("@opacityChangeAnimation",void 0)}function R(e,t){if(1&e&&(a.Ob(0,"p"),a.kc(1),a.Zb(2,"name"),a.Nb()),2&e){const e=a.Yb();a.bc("@opacityChangeAnimation",void 0),a.zb(1),a.lc(a.ac(2,2,e.state.noticeMessage))}}function F(e,t){if(1&e&&a.Kb(0,"app-repo-card",8),2&e){const e=t.$implicit;a.bc("@opacityChangeAnimation",void 0)("repo",e)}}let K=(()=>{class e{constructor(e,t){this.searchService=e,this.formBuilder=t,this.searchForm=t.group({request:""})}get state(){return this.searchService.getState()}ngOnInit(){this.searchService.subscribe(this.searchForm.get("request").valueChanges)}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(C),a.Jb(I.b))},e.\u0275cmp=a.Db({type:e,selectors:[["app-gh-search"]],decls:10,vars:6,consts:[[3,"formGroup"],["formControlName","request",1,"github-input"],["class","preloader__container",4,"ngIf"],[4,"ngIf"],[1,"result-container"],[3,"repo",4,"ngFor","ngForOf"],[1,"preloader__container"],[1,"preloader"],[3,"repo"]],template:function(e,t){1&e&&(a.Ob(0,"div"),a.Ob(1,"h2"),a.kc(2,"\u0432\u0432\u0435\u0434\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438 \u043d\u0430\u0439\u0434\u0435\u0448\u044c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438 \u043d\u0430 gh"),a.Nb(),a.Ob(3,"form",0),a.Kb(4,"input",1),a.Nb(),a.jc(5,P,2,1,"div",2),a.jc(6,R,3,4,"p",3),a.Ob(7,"div",4),a.jc(8,F,1,2,"app-repo-card",5),a.Zb(9,"sortByStars"),a.Nb(),a.Nb()),2&e&&(a.zb(3),a.bc("formGroup",t.searchForm),a.zb(2),a.bc("ngIf",t.state.isLoading),a.zb(1),a.bc("ngIf",t.state.noticeMessage),a.zb(2),a.bc("ngForOf",a.ac(9,4,t.state.repositories)))},directives:[I.j,I.g,I.d,I.a,I.f,I.c,r.i,r.h,z],pipes:[q,A.a],styles:["@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}.preloader[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;border:4px solid;border-color:#888 #888 #444;-webkit-animation:spin .75s linear infinite;animation:spin .75s linear infinite}.preloader__container[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;width:100%;margin-top:50px}.result-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,282px);grid-gap:18px 18px}.github-input[_ngcontent-%COMP%]{width:100%;height:40px}app-repo-card[_ngcontent-%COMP%]{padding:5px;box-shadow:1px 1px 3px grey;margin-top:50px}"],data:{animation:[o]}}),e})();var L=s("iTUp");s.d(t,"GhSearchModule",(function(){return G}));const V=[{path:"",component:K}];let G=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},providers:[C,N],imports:[[r.b,i.e.forChild(V),n.b,I.h,I.e,L.a]]}),e})()}}]);